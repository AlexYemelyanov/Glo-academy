(()=>{"use strict";(function(e){let t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds");function a(){let a=function(e){let t=(new Date(e).getTime()-(new Date).getTime())/1e3,o=Math.floor(t%60),n=Math.floor(t/60%60);return{total:t,hours:Math.floor(t/60/60)%24,minutes:n,seconds:o}}(e);if(a.total<=0)return t.textContent="00",o.textContent="00",n.textContent="00",clearInterval(l),!0;t.textContent=("0"+a.hours).slice(-2),o.textContent=("0"+a.minutes).slice(-2),n.textContent=("0"+a.seconds).slice(-2)}a();let l=setInterval(a,1e3)})(new Date(Date.parse(new Date)+154689e3)),(()=>{const e=document.querySelector(".menu"),t=document.querySelector("menu"),o=()=>{t.classList.toggle("active-menu")};t.addEventListener("click",(e=>{let t=e.target;console.log(t),t=t.closest("a"),t&&(console.log(t),o())})),e.addEventListener("click",o)})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),o=document.querySelector(".popup-content");let n,a=0;t.forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block",console.log(o.getBoundingClientRect());let t=()=>{n=requestAnimationFrame(t),a++,innerWidth>768?a<40?o.style.left=a+"%":cancelAnimationFrame(n):(cancelAnimationFrame(n),o.style.left=document.clientWidth/2+"px")};n=requestAnimationFrame(t)}))})),e.addEventListener("click",(t=>{let l=t.target;l.classList.contains("popup-close")?(e.style.display="none",a=-10,o.style.left=a+"px",cancelAnimationFrame(n)):(l=l.closest(".popup-content"),l||(e.style.display="none",a=-10,o.style.left=a+"px",cancelAnimationFrame(n)))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let n=e.target;n=n.closest(".service-header-tab"),n&&t.forEach(((e,a)=>{e===n&&(e=>{for(let n=0;n<o.length;n++)e===n?(t[n].classList.add("active"),o[n].classList.remove("d-none")):(t[n].classList.remove("active"),o[n].classList.add("d-none"))})(a)}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-content"));let o,n=0,a=document.querySelectorAll(".dot");e.forEach((()=>{let e=document.querySelector(".portfolio-dots"),t=document.createElement("li");t.classList.add("dot"),e.append(t)})),0===a&&newDot.classList.add("dot-active"),a=document.querySelectorAll(".dot");const l=(e,t,o)=>{e[t].classList.remove(o)},r=(e,t,o)=>{e[t].classList.add(o)},c=()=>{l(e,n,"portfolio-item-active"),l(a,n,"dot-active"),n++,n>=e.length&&(n=0),r(e,n,"portfolio-item-active"),r(a,n,"dot-active")},d=(e=3e3)=>{o=setInterval(c,e)};t.addEventListener("click",(t=>{t.preventDefault();let o=t.target;o.matches(".portfolio-btn, .dot")&&(l(e,n,"portfolio-item-active"),l(a,n,"dot-active"),o.matches("#arrow-right")?n++:o.matches("#arrow-left")?n--:o.matches(".dot")&&a.forEach(((e,t)=>{e===o&&(n=t)})),n>=e.length?n=0:n<0&&(n=e.length-1),r(e,n,"portfolio-item-active"),r(a,n,"dot-active"))})),t.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(o)})),t.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&d(1500)})),d(1500)})(),(()=>{let e=document.getElementById("command");document.querySelectorAll(".command__photo"),e.addEventListener("mouseover",(()=>{event.target.matches(".command__photo")&&(event.target.alt=event.target.src,event.target.src=event.target.dataset.img)})),e.addEventListener("mouseout",(()=>{console.log(event.target.src),event.target.matches(".command__photo")&&(event.target.src=event.target.alt)}))})(),(()=>{let e=document.getElementById("form1-name"),t=document.getElementById("form1-email"),o=document.getElementById("form1-phone"),n=document.getElementById("form1"),a=document.getElementById("form2-name"),l=document.getElementById("form2-email"),r=document.getElementById("form2-phone"),c=document.getElementById("form2"),d=document.getElementById("form2-message"),u=document.querySelector(".calc-square"),s=document.querySelector(".calc-count"),i=document.querySelector(".calc-day"),m=document.querySelector(".calc-block"),v=document.getElementById("form3");n.addEventListener("submit",(function(e){y.forEach((t=>{t.value||e.preventDefault()}))})),c.addEventListener("submit",(function(e){y.forEach((t=>{t.value||e.preventDefault()}))})),v.addEventListener("submit",(function(e){y.forEach((t=>{t.value||e.preventDefault()}))}));const y=[],p=[],C=[];for(const e of n.elements)"button"!==e.tagName.toLowerCase()&&"button"!==e.type&&y.push(e);for(const e of c.elements)"button"!==e.tagName.toLowerCase()&&"button"!==e.type&&p.push(e);for(const e of v.elements)"button"!==e.tagName.toLowerCase()&&"button"!==e.type&&C.push(e);n.addEventListener("input",(n=>{if(t.value=t.value.replace(/[^A-Za-z@!_.~*'\-]*/gi,""),e.value=e.value.replace(/[^А-Яа-яЁё\s]/gi,""),o.value=o.value.replace(/[^\+\d]/,""),n.target===t){if(n.keyCode>=65&&n.keyCode<=90||50===n.keyCode||49===n.keyCode||56===n.keyCode||222===n.keyCode||188===n.keyCode||189===n.keyCode||190===n.keyCode||192===n.keyCode||16===n.keyCode)return;n.preventDefault()}if(n.target===e){if(n.keyCode>=65&&n.keyCode<=90||186===n.keyCode||190===n.keyCode||16===n.keyCode||219===n.keyCode||222===n.keyCode||188===n.keyCode||189===n.keyCode||221===n.keyCode||192===n.keyCode||16===n.keyCode||32===n.keyCode)return;n.preventDefault()}if(n.target===o){if(console.log("im here"),n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105||16===n.keyCode||189===n.keyCode||187===n.keyCode)return;n.preventDefault()}})),c.addEventListener("input",(e=>{if(l.value=t.value.replace(/[^A-Za-z@!_.~*'\-]*/gi,""),a.value=a.value.replace(/[^А-Яа-яЁё\s]/gi,""),d.value=d.value.replace(/[^А-Яа-яЁё\-\s\d,.!?]/gi,""),r.value=r.value.replace(/[^\+\d]/,""),e.target===l){if(console.log("im here"),e.keyCode>=65&&e.keyCode<=90||50===e.keyCode||49===e.keyCode||56===e.keyCode||222===e.keyCode||188===e.keyCode||189===e.keyCode||190===e.keyCode||192===e.keyCode||16===e.keyCode)return;e.preventDefault()}if(e.target===a){if(e.keyCode>=65&&e.keyCode<=90||186===e.keyCode||190===e.keyCode||16===e.keyCode||219===e.keyCode||222===e.keyCode||188===e.keyCode||189===e.keyCode||221===e.keyCode||192===e.keyCode||16===e.keyCode)return;e.preventDefault()}if(e.target===r){if(console.log("im here"),e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105||16===e.keyCode||189===e.keyCode||16===e.keyCode||187===e.keyCode)return;e.preventDefault()}if(e.target===d){if(e.keyCode>=65&&e.keyCode<=90||186===e.keyCode||190===e.keyCode||16===e.keyCode||219===e.keyCode||222===e.keyCode||188===e.keyCode||189===e.keyCode||221===e.keyCode||192===e.keyCode||32===e.keyCode)return;e.preventDefault()}})),m.addEventListener("keydown",(e=>{if(e.target===u||e.target===s||e.target===i){if(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105)return;e.preventDefault()}})),t.addEventListener("blur",(e=>{t.value=t.value.replace(/\s+/g," ").trim(),t.value=t.value.replace(/[-]+/g,"-"),t.value=t.value.replace(/^-+|-+$/g,""),console.log(e.target.value)})),l.addEventListener("blur",(e=>{l.value=l.value.replace(/\s+/g," ").trim(),l.value=l.value.replace(/[-]+/g,"-"),l.value=l.value.replace(/^-+|-+$/g,""),console.log(e.target.value)})),e.addEventListener("blur",(t=>{e.value=e.value.replace(/\s+/g," ").trim(),e.value=e.value.replace(/[-]+/g,"-"),e.value=e.value.replace(/^-+|-+$/g,""),e.value=e.value.replace(e.value[0],e.value[0].toUpperCase()),console.log(t.target.value)})),a.addEventListener("blur",(e=>{a.value=a.value.replace(/\s+/g," ").trim(),a.value=a.value.replace(/[-]+/g,"-"),a.value=a.value.replace(/^-+|-+$/g,""),a.value=a.value.replace(a.value[0],a.value[0].toUpperCase()),console.log(e.target.value)})),d.addEventListener("blur",(e=>{d.value=d.value.replace(/\s+/g," ").trim(),d.value=d.value.replace(/[-]+/g,"-"),d.value=d.value.replace(/^-+|-+$/g,""),console.log(e.target.value)}))})(),((e=100)=>{const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),a=document.querySelector(".calc-day"),l=document.querySelector(".calc-count"),r=document.getElementById("total");t.addEventListener("change",(t=>{const c=t.target;(c.matches(".calc-type")||c.matches(".calc-square")||c.matches(".calc-day")||c.matches(".calc-count"))&&(()=>{let t=0,c=1,d=1;const u=o.options[o.selectedIndex].value,s=+n.value;l.value>1&&(c+=(l.value-1)/10),a.value&&a.value<5?d*=2:a.value&&a.value<10&&(d*=1.5),u&&s&&(t=e*u*s*c*d),r.textContent=t})()}))})(100),(()=>{const e="Что-то пошло не так...",t="Загрузка...",o="Спасибо! Мы скоро свяжемся с вами!",n=document.getElementById("form1"),a=document.getElementById("form2"),l=document.getElementById("form3"),r=document.createElement("div");r.style.cssText="font-size: 3rem; color: red;",n.addEventListener("submit",(a=>{a.preventDefault(),n.appendChild(r),r.textContent=t;const l=new FormData(n);c(l).then((e=>{if(200!==e.status)throw new Error("Status network is not 200!");r.textContent=o})).catch((t=>{r.textContent=e,console.log(t)})).finally((()=>{n.reset(),setTimeout((()=>{r.remove()}),3e3)}))})),a.addEventListener("submit",(n=>{n.preventDefault(),a.appendChild(r),r.textContent=t;const l=new FormData(a);c(l).then((e=>{if(200!==e.status)throw new Error("Status network is not 200 !");r.textContent=o})).catch((t=>{r.textContent=e,console.log(t)})).finally((()=>{a.reset(),setTimeout((()=>{r.remove()}),3e3)}))})),l.addEventListener("submit",(n=>{n.preventDefault(),l.appendChild(r),r.textContent=t;const a=new FormData(l);c(a).then((e=>{if(200!==e.status)throw new Error("Status network is not 200!");r.textContent=o})).catch((t=>{r.textContent=e,console.log(t)})).finally((()=>{l.reset(),setTimeout((()=>{r.remove()}),3e3)}))}));const c=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"aplication/json"},body:JSON.stringify(e)})})()})();